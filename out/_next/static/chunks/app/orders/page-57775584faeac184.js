(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[778],{14546:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(41342).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},28292:(e,t,a)=>{"use strict";a.d(t,{B:()=>v});var s=a(6012),n=a(18192),r=a(91297),i=a.n(r),l=a(14274),c=a(27803),d=a(94193),o=a(96409);let h=(0,a(41342).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var u=a(14546),m=a(2093),p=a(65269),x=a(50694);let y={"":"Dashboard",pos:"Point of Sale",inventory:"Inventory",orders:"Orders",analytics:"Analytics",customers:"Customers","customer-display":"Customer Display",settings:"Settings"},f={inventory:[{label:"Add Product",icon:c.A,variant:"default"}],orders:[{label:"Date Range",icon:d.A,variant:"outline"},{label:"Filters",icon:o.A,variant:"outline"}],analytics:[{label:"Export",icon:h,variant:"outline"},{label:"Settings",icon:u.A,variant:"outline"}],customers:[{label:"Add Customer",icon:c.A,variant:"default"}]};function v(e){let{actions:t}=e,a=(0,l.usePathname)().split("/").filter(Boolean),r=[{label:"Home",href:"/"}],c="";a.forEach(e=>{c+="/".concat(e);let t=y[e]||e.charAt(0).toUpperCase()+e.slice(1);r.push({label:t,href:c})});let d=a[a.length-1]||"",o=t||f[d]||[];return(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("nav",{className:"flex items-center space-x-1 text-sm text-muted-foreground",children:r.map((e,t)=>(0,s.jsxs)(n.Fragment,{children:[t>0&&(0,s.jsx)(m.A,{className:"h-4 w-4"}),0===t?(0,s.jsx)(i(),{href:e.href,className:"flex items-center hover:text-foreground transition-colors",children:(0,s.jsx)(p.A,{className:"h-4 w-4"})}):t===r.length-1?(0,s.jsx)("span",{className:"text-foreground font-medium",children:e.label}):(0,s.jsx)(i(),{href:e.href,className:"hover:text-foreground transition-colors",children:e.label})]},e.href||e.label))}),o.length>0&&(0,s.jsx)("div",{className:"flex items-center gap-2",children:o.map((e,t)=>(0,s.jsx)(x.$,{variant:e.variant||"outline",size:"sm",onClick:e.onClick,asChild:!!e.href,children:e.href?(0,s.jsxs)(i(),{href:e.href,children:[(0,s.jsx)(e.icon,{className:"h-4 w-4 mr-2"}),e.label]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.icon,{className:"h-4 w-4 mr-2"}),e.label]})},t))})]})}},31105:(e,t,a)=>{Promise.resolve().then(a.bind(a,71190))},39368:(e,t,a)=>{"use strict";a.d(t,{LP:()=>d,ZN:()=>i,ZQ:()=>r,cN:()=>l,ic:()=>o,pO:()=>c});let s="http://localhost:3001";async function n(e){let t=await e.json();if(!e.ok)throw Error(t.error||"API request failed");return t}let r={login:async(e,t)=>n(await fetch("".concat(s,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:e,password:t})})),logout:async()=>n(await fetch("".concat(s,"/auth/logout"),{method:"POST",credentials:"include"})),getMe:async()=>n(await fetch("".concat(s,"/auth/me"),{credentials:"include"}))},i={getAll:async()=>n(await fetch("".concat(s,"/products"),{credentials:"include"})),getById:async e=>n(await fetch("".concat(s,"/products/").concat(e),{credentials:"include"})),create:async e=>n(await fetch("".concat(s,"/products"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)})),update:async(e,t)=>n(await fetch("".concat(s,"/products/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)})),delete:async e=>n(await fetch("".concat(s,"/products/").concat(e),{method:"DELETE",credentials:"include"}))},l={getAll:async e=>{let t=new URL("".concat(s,"/orders"));return e&&t.searchParams.append("storeId",e),n(await fetch(t.toString(),{credentials:"include"}))},getById:async e=>n(await fetch("".concat(s,"/orders/").concat(e),{credentials:"include"})),create:async e=>n(await fetch("".concat(s,"/orders"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}))},c={getStock:async()=>n(await fetch("".concat(s,"/inventory/stock"),{credentials:"include"})),getAlerts:async()=>n(await fetch("".concat(s,"/inventory/alerts"),{credentials:"include"})),updateStock:async(e,t)=>n(await fetch("".concat(s,"/inventory/stock/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({stock:t})}))},d={getDashboardData:async e=>{let t=new URL("".concat(s,"/analytics/dashboard"));return e&&t.searchParams.append("storeId",e),n(await fetch(t.toString(),{credentials:"include"}))}},o={createStore:async e=>n(await fetch("".concat(s,"/admin/create-store"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)})),getDashboardData:async()=>n(await fetch("".concat(s,"/admin/analytics/dashboard"),{credentials:"include"})),getUsers:async()=>n(await fetch("".concat(s,"/admin/users"),{credentials:"include"})),getStores:async()=>n(await fetch("".concat(s,"/admin/create-store"),{credentials:"include"})),getSubscriptionPackages:async()=>n(await fetch("".concat(s,"/admin/subscription-packages"),{credentials:"include"}))}},44908:(e,t,a)=>{"use strict";a.d(t,{A:()=>h,AuthProvider:()=>o});var s=a(6012),n=a(18192),r=a(14274),i=a(39368);let l={user:null,store:null,isLoading:!0,isAuthenticated:!1};function c(e,t){switch(t.type){case"SET_LOADING":return{...e,isLoading:t.payload};case"SET_AUTH_DATA":return{...e,user:t.payload.user,store:t.payload.store,isLoading:!1,isAuthenticated:!0};case"CLEAR_AUTH":return{...e,user:null,store:null,isLoading:!1,isAuthenticated:!1};case"SET_ERROR":return{...e,isLoading:!1,error:t.payload};default:return e}}let d=(0,n.createContext)(void 0);function o(e){let{children:t}=e,[a,o]=(0,n.useReducer)(c,l),h=(0,r.usePathname)();(0,n.useEffect)(()=>{if(["/login","/admin-login","/admin-dashboard"].includes(h)||h.startsWith("/admin-dashboard")){o({type:"SET_LOADING",payload:!1});return}u()},[h]);let u=async()=>{try{let e=await i.ZQ.getMe();if(e.success&&e.data){let t=e.data,a=null;if(t.storeId)try{let e=await fetch("".concat("http://localhost:3001","/store"),{credentials:"include"});if(e.ok){let t=await e.json();t.success&&t.data&&(a=t.data)}}catch(e){console.error("Failed to fetch store data:",e)}o({type:"SET_AUTH_DATA",payload:{user:{id:t.id,email:t.email,role:t.role,storeId:t.storeId},store:a}})}else o({type:"CLEAR_AUTH"})}catch(e){console.error("Auth check failed:",e),o({type:"CLEAR_AUTH"})}},m=async(e,t)=>{try{o({type:"SET_LOADING",payload:!0});let a=await i.ZQ.login(e,t);if(a.success)return o({type:"SET_AUTH_DATA",payload:{user:{id:a.data.user.id,email:a.data.user.email,role:a.data.user.role,storeId:a.data.user.storeId},store:a.data.store}}),{success:!0};return{success:!1,error:a.error}}catch(t){console.error("Login failed:",t);let e=t.message||"Login failed";return o({type:"SET_ERROR",payload:e}),{success:!1,error:e}}finally{o({type:"SET_LOADING",payload:!1})}},p=async()=>{try{await i.ZQ.logout(),o({type:"CLEAR_AUTH"}),window.location.href="/login"}catch(e){console.error("Logout failed:",e),o({type:"CLEAR_AUTH"}),window.location.href="/login"}};return(0,s.jsx)(d.Provider,{value:{state:a,dispatch:o,login:m,logout:p},children:t})}function h(){let e=(0,n.useContext)(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},63230:(e,t,a)=>{"use strict";a.d(t,{dj:()=>h});var s=a(18192);let n={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"},r=0,i=(e,t)=>{switch(t.type){case n.ADD_TOAST:return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case n.UPDATE_TOAST:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case n.DISMISS_TOAST:{let{toastId:a}=t;if(a)return{...e,toasts:e.toasts.map(e=>e.id===a?{...e,open:!1}:e)};return{...e,toasts:e.toasts.map(e=>({...e,open:!1}))}}case n.REMOVE_TOAST:return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};default:return e}},l=[],c={toasts:[]};function d(e){c=i(c,e),l.forEach(e=>e(c))}function o(e){let{...t}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>d({type:n.DISMISS_TOAST,toastId:a});return d({type:n.ADD_TOAST,toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>d({type:n.UPDATE_TOAST,toast:{...e,id:a}})}}function h(){let[e,t]=s.useState(c);return s.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:o,dismiss:s.useCallback(e=>d({type:n.DISMISS_TOAST,toastId:e}),[])}}},65269:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(41342).A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},65763:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(41342).A)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},70128:(e,t,a)=>{"use strict";a.d(t,{b:()=>u});var s=a(6012),n=a(18192),r=a(26862),i=a(50694),l=a(49550),c=a(30487),d=a(78703);let o=(0,a(41342).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var h=a(2093);function u(e){let{data:t,columns:a,searchable:u=!0,searchPlaceholder:m="Search...",pageSize:p=10,className:x=""}=e,[y,f]=(0,n.useState)(""),[v,g]=(0,n.useState)(1),[j,b]=(0,n.useState)(null),[A,S]=(0,n.useState)("asc"),w=t.filter(e=>!y||Object.values(e).some(e=>String(e).toLowerCase().includes(y.toLowerCase()))),N=[...w].sort((e,t)=>{if(!j)return 0;let a=e[j],s=t[j];return a<s?"asc"===A?-1:1:a>s?"asc"===A?1:-1:0}),T=Math.ceil(N.length/p),k=(v-1)*p,C=N.slice(k,k+p),O=e=>{j===e?S("asc"===A?"desc":"asc"):(b(e),S("asc"))},E=(e,t)=>t.includes(".")?t.split(".").reduce((e,t)=>null==e?void 0:e[t],e):e[t];return(0,s.jsxs)("div",{className:"space-y-4 ".concat(x),children:[u&&(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,s.jsx)(d.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),(0,s.jsx)(l.p,{placeholder:m,value:y,onChange:e=>f(e.target.value),className:"pl-10"})]}),(0,s.jsxs)(c.E,{variant:"secondary",children:[w.length," of ",t.length," items"]})]}),(0,s.jsx)("div",{className:"rounded-md border",children:(0,s.jsxs)(r.XI,{children:[(0,s.jsx)(r.A0,{children:(0,s.jsx)(r.Hj,{children:a.map(e=>(0,s.jsx)(r.nd,{className:e.sortable?"cursor-pointer hover:bg-muted/50":"",onClick:()=>e.sortable&&O(String(e.key)),children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[e.title,e.sortable&&j===e.key&&(0,s.jsx)("span",{className:"text-xs",children:"asc"===A?"↑":"↓"})]})},String(e.key)))})}),(0,s.jsx)(r.BF,{children:C.map((e,t)=>(0,s.jsx)(r.Hj,{children:a.map(t=>(0,s.jsx)(r.nA,{children:t.render?t.render(E(e,String(t.key)),e):String(E(e,String(t.key))||"")},String(t.key)))},t))})]})}),T>1&&(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Showing ",k+1," to ",Math.min(k+p,N.length)," of"," ",N.length," entries"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>g(Math.max(1,v-1)),disabled:1===v,children:[(0,s.jsx)(o,{className:"h-4 w-4"}),"Previous"]}),(0,s.jsx)("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,T)},(e,t)=>{let a=t+1;return(0,s.jsx)(i.$,{variant:v===a?"default":"outline",size:"sm",onClick:()=>g(a),children:a},a)})}),(0,s.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>g(Math.min(T,v+1)),disabled:v===T,children:["Next",(0,s.jsx)(h.A,{className:"h-4 w-4"})]})]})]})]})}},71190:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>S});var s=a(6012),n=a(18192),r=a(31564),i=a(50694),l=a(49550),c=a(30487),d=a(65176),o=a(41342);let h=(0,o.A)("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);var u=a(78703),m=a(96409),p=a(65763);let x=(0,o.A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var y=a(28292),f=a(70128),v=a(63230),g=a(44908),j=a(39368),b=a(3634),A=a(73226);function S(){let{toast:e}=(0,v.dj)(),{state:t}=(0,g.A)(),[a,o]=(0,n.useState)([]),[S,w]=(0,n.useState)(!0),[N,T]=(0,n.useState)(""),[k,C]=(0,n.useState)("all"),[O,E]=(0,n.useState)("all"),[P,_]=(0,n.useState)(null),[D,R]=(0,n.useState)(!1);(0,n.useEffect)(()=>{M()},[k,O,N]);let M=async()=>{try{var a;w(!0);let e=null===(a=t.store)||void 0===a?void 0:a.id,s=await j.cN.getAll(e);s.success&&s.data&&o(s.data)}catch(t){e({title:"Error",description:"Failed to fetch orders",variant:"destructive"})}finally{w(!1)}},I=async t=>{try{let a=await j.cN.getById(t);a.success&&a.data?(_(a.data),R(!0)):e({title:"Error",description:"Failed to fetch order details",variant:"destructive"})}catch(t){e({title:"Error",description:"Failed to fetch order details",variant:"destructive"})}},L=e=>{var a;let s='\n      <div style="font-family: Arial, sans-serif; max-width: 300px; margin: 0 auto; padding: 20px;">\n        <h2 style="text-align: center; margin-bottom: 20px;">'.concat((null===(a=t.store)||void 0===a?void 0:a.name)||"Store",'</h2>\n        <div style="border-bottom: 1px dashed #000; padding-bottom: 10px; margin-bottom: 10px;">\n          <p><strong>Order #:</strong> ').concat(e.orderNumber,"</p>\n          <p><strong>Date:</strong> ").concat(new Date(e.createdAt).toLocaleString(),'</p>\n        </div>\n        <div style="margin-bottom: 15px;">\n          ').concat(e.items.map(e=>'\n            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">\n              <span>'.concat(e.product.name," x").concat(e.quantity,"</span>\n              <span>PKR ").concat(e.totalPrice.toFixed(2),"</span>\n            </div>\n          ")).join(""),'\n        </div>\n        <div style="border-top: 1px dashed #000; padding-top: 10px;">\n          <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">\n            <span>Subtotal:</span>\n            <span>PKR ').concat(e.subtotal.toFixed(2),'</span>\n          </div>\n          <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">\n            <span>Tax (').concat((100*e.taxRate).toFixed(1),"%):</span>\n            <span>PKR ").concat(e.tax.toFixed(2),'</span>\n          </div>\n          <div style="display: flex; justify-content: space-between; font-weight: bold; font-size: 1.1em;">\n            <span>Total:</span>\n            <span>PKR ').concat(e.total.toFixed(2),'</span>\n          </div>\n        </div>\n        <div style="text-align: center; margin-top: 20px; font-size: 0.9em;">\n          <p>Thank you for your purchase!</p>\n          <p>Payment: ').concat(e.paymentMethod.toUpperCase(),"</p>\n        </div>\n      </div>\n    "),n=window.open("","_blank");n&&(n.document.write("\n        <html>\n          <head>\n            <title>Receipt - Order ".concat(e.orderNumber,"</title>\n            <style>\n              body { margin: 0; padding: 20px; }\n              @media print {\n                body { margin: 0; padding: 0; }\n              }\n            </style>\n          </head>\n          <body>").concat(s,"</body>\n        </html>\n      ")),n.document.close(),n.print())},F=[{key:"orderNumber",title:"Order #",sortable:!0,render:e=>(0,s.jsx)("div",{className:"font-medium",children:e})},{key:"createdAt",title:"Date",sortable:!0,render:e=>new Date(e).toLocaleString()},{key:"total",title:"Total",sortable:!0,render:e=>(0,s.jsxs)("div",{className:"font-medium",children:["PKR ",e.toFixed(2)]})},{key:"paymentMethod",title:"Payment Method",render:e=>(0,s.jsx)(c.E,{variant:"outline",className:"capitalize",children:e})},{key:"status",title:"Status",render:e=>{let t="default";return"completed"===e?t="success":"pending"===e?t="warning":"cancelled"===e&&(t="destructive"),(0,s.jsx)(c.E,{variant:t,className:"capitalize",children:e})}},{key:"actions",title:"Actions",render:(e,t)=>(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>I(t.id),children:(0,s.jsx)(d.A,{className:"h-4 w-4"})}),(0,s.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>L(t),children:(0,s.jsx)(h,{className:"h-4 w-4"})})]})}];return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(y.B,{}),(0,s.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Order Management"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"View and manage all customer orders."}),(0,s.jsxs)(r.Zp,{className:"rounded-sm",children:[(0,s.jsxs)(r.aR,{children:[(0,s.jsx)(r.ZB,{children:"Order List"}),(0,s.jsx)(r.BT,{children:"Browse, filter, and manage your store's sales orders."})]}),(0,s.jsxs)(r.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[(0,s.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,s.jsx)(u.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),(0,s.jsx)(l.p,{placeholder:"Search orders by number...",value:N,onChange:e=>T(e.target.value),className:"pl-10"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(A.l6,{value:k,onValueChange:e=>C(e),children:[(0,s.jsxs)(A.bq,{className:"w-[180px]",children:[(0,s.jsx)(m.A,{className:"h-4 w-4 mr-2"}),(0,s.jsx)(A.yv,{placeholder:"Filter by Status"})]}),(0,s.jsxs)(A.gC,{children:[(0,s.jsx)(A.eb,{value:"all",children:"All Statuses"}),(0,s.jsx)(A.eb,{value:"pending",children:"Pending"}),(0,s.jsx)(A.eb,{value:"completed",children:"Completed"}),(0,s.jsx)(A.eb,{value:"cancelled",children:"Cancelled"})]})]}),(0,s.jsxs)(A.l6,{value:O,onValueChange:e=>E(e),children:[(0,s.jsxs)(A.bq,{className:"w-[180px]",children:[(0,s.jsx)(p.A,{className:"h-4 w-4 mr-2"}),(0,s.jsx)(A.yv,{placeholder:"Filter by Payment"})]}),(0,s.jsxs)(A.gC,{children:[(0,s.jsx)(A.eb,{value:"all",children:"All Payments"}),(0,s.jsx)(A.eb,{value:"cash",children:"Cash"}),(0,s.jsx)(A.eb,{value:"card",children:"Card"}),(0,s.jsx)(A.eb,{value:"jazzcash",children:"JazzCash"}),(0,s.jsx)(A.eb,{value:"easypaisa",children:"EasyPaisa"})]})]}),(0,s.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>{M(),e({title:"Refreshed",description:"Order list updated."})},children:(0,s.jsx)(x,{className:"h-4 w-4"})})]})]}),(0,s.jsx)(f.b,{data:a,columns:F,searchPlaceholder:"Search orders...",pageSize:10})]})]}),(0,s.jsx)(b.lG,{open:D,onOpenChange:R,children:(0,s.jsxs)(b.Cf,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)(b.c7,{children:[(0,s.jsx)(b.L3,{children:"Order Details"}),(0,s.jsxs)(b.rr,{children:["Order #",null==P?void 0:P.orderNumber]})]}),P&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:"Date"}),(0,s.jsx)("p",{className:"font-medium",children:new Date(P.createdAt).toLocaleString()})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:"Status"}),(0,s.jsx)(c.E,{variant:"completed"===P.status?"success":"pending"===P.status?"warning":"cancelled"===P.status?"destructive":"default",className:"capitalize",children:P.status})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:"Payment Method"}),(0,s.jsx)("p",{className:"font-medium capitalize",children:P.paymentMethod})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:"Payment Status"}),(0,s.jsx)("p",{className:"font-medium capitalize",children:P.paymentStatus})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold mb-3",children:"Items"}),(0,s.jsx)("div",{className:"space-y-2",children:P.items.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:e.product.name}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.quantity," x PKR ",e.unitPrice.toFixed(2),e.variant&&" (".concat(e.variant.name,")")]})]}),(0,s.jsx)("div",{className:"text-right",children:(0,s.jsxs)("p",{className:"font-medium",children:["PKR ",e.totalPrice.toFixed(2)]})})]},e.id))})]}),(0,s.jsxs)("div",{className:"space-y-2 border-t pt-4",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{children:"Subtotal:"}),(0,s.jsxs)("span",{children:["PKR ",P.subtotal.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsxs)("span",{children:["Tax (",(100*P.taxRate).toFixed(1),"%):"]}),(0,s.jsxs)("span",{children:["PKR ",P.tax.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"flex justify-between font-bold text-lg border-t pt-2",children:[(0,s.jsx)("span",{children:"Total:"}),(0,s.jsxs)("span",{children:["PKR ",P.total.toFixed(2)]})]}),P.change&&P.change>0&&(0,s.jsxs)("div",{className:"flex justify-between text-sm text-green-600",children:[(0,s.jsx)("span",{children:"Change:"}),(0,s.jsxs)("span",{children:["PKR ",P.change.toFixed(2)]})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(i.$,{onClick:()=>L(P),className:"flex items-center gap-2",children:[(0,s.jsx)(h,{className:"h-4 w-4"}),"Print Receipt"]}),(0,s.jsx)(i.$,{variant:"outline",onClick:()=>R(!1),children:"Close"})]})]})]})})]})}},94193:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(41342).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},96409:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(41342).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[863,372,334,118,573,516,628,746,847,358],()=>t(31105)),_N_E=e.O()}]);